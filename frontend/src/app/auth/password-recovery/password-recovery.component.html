<div class="recovery-container card" [@fadeInUp]>
  <!-- Form State -->
  <div *ngIf="!isSubmitted" class="form-state" [@fadeInUp]>
    <h2 class="recovery-title text-primary">Recuperar Contraseña</h2>
    <p class="recovery-microcopy text-secondary">
      Ingresa tu dirección de email asociada a tu cuenta y te enviaremos un enlace para restablecer tu contraseña
    </p>
    
    <form [formGroup]="recoveryForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="email" class="form-label text-primary">Email de recuperación</label>
        <input
          type="email"
          id="email"
          class="form-input"
          formControlName="email"
          placeholder="tu@email.com"
          [ngClass]="{ 'error': email?.invalid && (email?.dirty || email?.touched) }"
        >
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error-message" [@fadeInDown]>
          <span *ngIf="email?.errors?.['required']">El email es requerido</span>
          <span *ngIf="email?.errors?.['email']">Ingrese un email válido</span>
        </div>
      </div>
      
      <button
        type="submit"
        class="btn-submit btn-primary"
        [disabled]="recoveryForm.invalid || isLoading"
        [@fadeInOut]
      >
        <span *ngIf="!isLoading">Enviar enlace</span>
        <span *ngIf="isLoading" class="loading-spinner"></span>
      </button>
    </form>
    
    <div class="auth-links">
      <a routerLink="/auth/login" class="back-link link-primary">Volver a Iniciar Sesión</a>
    </div>
  </div>
  
  <!-- Success State -->
  <div *ngIf="isSubmitted" class="success-state" [@fadeInUp]>
    <div class="success-icon">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <p class="success-message text-success">
      Si existe una cuenta con ese email, recibirás un enlace de recuperación
    </p>
    <button (click)="navigateToLogin()" class="btn-back-to-login btn-primary">
      Volver a Iniciar Sesión
    </button>
  </div>
</div>